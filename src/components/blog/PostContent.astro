---
import type {CollectionEntry} from 'astro:content';
import * as Components from "@components/writing";

export type Props = {
  post?: CollectionEntry<"blog">,
};

const { post } = Astro.props;
Astro.locals.currentEntry ??= post || null;
const { Content } = (await post?.render()) || {};

---

{!!post && Content && <Content components={Components} />}
{!post && !!Astro.locals.currentEntry && <slot />}