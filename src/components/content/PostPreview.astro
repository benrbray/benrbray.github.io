---
// import { getPostUrl, postIsPublished } from '@root/util/query';
import type { CollectionEntry } from 'astro:content';
import { getEntry } from 'astro:content';
import PostSummary from "@components/content/PostSummary.astro";

// import Preview from "./Preview.astro";

interface Props {
  postSlug: CollectionEntry<'post'>["slug"]
}

const { postSlug } = Astro.props;

const post = await getEntry({ collection: "post", slug: postSlug });

// const postUrl = getPostUrl(post);
// const postDisplayTitle = post.data.titleDisplay || post.data.title;
---

<div class="post-preview">
<PostSummary post={post} />
</div>

<!-- <Preview 
  url={postUrl}
  titleHtml={postDisplayTitle}
  summaryHtml={post.data.summary}
  date={post.data.datePublished}
  unpublished={!postIsPublished(post)}
/> -->

<style>
.post-preview {
  margin: var(--gap-0) 0;
}
</style>