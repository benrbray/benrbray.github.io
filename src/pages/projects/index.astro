---
import { getProjects } from '@root/util/query';
import Page from '@root/layouts/Page.astro';
import ColumnNormal from '@root/layouts/ColumnNormal.astro';
import PostPreview from '@root/components/content/PostPreview.astro';

const projects = (await getProjects()).sort(
	(a, b) => b.data.datePublished.valueOf() - a.data.datePublished.valueOf()
);
---

<Page pageTitle={"Projects"}>
<ColumnNormal>
<main>
	<h1>Projects</h1>
	<section>
			{
				projects.map((project) => (
					<PostPreview postSlug={project.slug}/>
				))
			}
	</section>
</main>
</ColumnNormal>
</Page>