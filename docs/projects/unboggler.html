<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="shortcut icon" type="image/svg+xml" href="/favicon.ico"><link rel="manifest" href="/site.webmanifest"><!-- Font preloads --><link rel="preload" href="/fonts/lora/Lora-VariableFont_wght.ttf" as="font" type="font/ttf" crossorigin><link rel="preload" href="/fonts/lora/Lora-Italic-VariableFont_wght.ttf" as="font" type="font/ttf" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://benrbray.com/projects/unboggler.html"><!-- Primary Meta Tags --><title>Unboggler / Benjamin R. Bray</title><meta name="title" content="Unboggler / Benjamin R. Bray"><link rel="stylesheet" href="/_astro/_slug_.YmOn0Gvk.css">
<style>.article-header[data-astro-cid-t54qzdpc]{margin:4em 0}.article-header[data-astro-cid-t54qzdpc] h1[data-astro-cid-t54qzdpc].article-title{font-size:2.2em;text-align:center;font-weight:500;margin:0 var(--gap-1)}.article-header[data-astro-cid-t54qzdpc] .article-subtitle[data-astro-cid-t54qzdpc]{color:var(--font-subtitle-color);text-align:center;margin:var(--gap-1)}.article-header[data-astro-cid-t54qzdpc] .article-subtitle[data-astro-cid-t54qzdpc] a[data-astro-cid-t54qzdpc]{color:unset}.article-header[data-astro-cid-t54qzdpc] .article-tags[data-astro-cid-t54qzdpc]{text-align:center}.article-header[data-astro-cid-t54qzdpc] .article-date[data-astro-cid-t54qzdpc]{color:var(--font-subtitle-color);text-align:center;margin:var(--gap-1) 0;font-style:italic}
</style>
<link rel="stylesheet" href="/_astro/_slug_.Bt_wX0Sp.css">
<style>.github-preview[data-astro-cid-kq26ulss]{font-family:var(--sans-font)}.short-id[data-astro-cid-kq26ulss]{background-color:#dfeaf0;padding:.1em;border-radius:.25em;vertical-align:middle;color:var(--font-normal-color);font-family:var(--code-font)}
.admonition{--admonition-color-bg: rgb(218, 248, 255);--admonition-color-fg: rgb(35, 173, 204);--admonition-color-text: var(--font-normal-color)}.admonition{padding:var(--gap-0);background-color:var(--admonition-color-bg);border:1px dotted var(--admonition-color-fg);border-radius:.2em;color:var(--admonition-color-text)}
.block{border:1px solid #ccc;border-radius:.4em;padding:var(--gap-1);background-color:#fff}.block .block-body p:first-child:before{content:var(--block-label);font-weight:var(--font-bold-weight);padding-right:.5em;display:inline-block}.block .block-title{display:inline-block}
.post-preview[data-astro-cid-drrcoycf]{margin:var(--gap-0) 0}
.post-tags[data-astro-cid-aalyhqf5]{font-family:var(--sans-font)}.post-tags[data-astro-cid-aalyhqf5] .tag[data-astro-cid-aalyhqf5]{display:inline-block;padding:.2em .4em 0;white-space:nowrap;font-size:var(--font-size-small);border:1px solid;border-radius:.2em;line-height:1.2em}.post-tags[data-astro-cid-aalyhqf5] .tag[data-astro-cid-aalyhqf5] a[data-astro-cid-aalyhqf5]{color:unset}.post-tags[data-astro-cid-aalyhqf5] .category[data-astro-cid-aalyhqf5]{background-color:#e3e9ef;color:#254298}.post-tags[data-astro-cid-aalyhqf5] .tool[data-astro-cid-aalyhqf5]{background-color:#e3efe4;color:#006400}.post-tags[data-astro-cid-aalyhqf5] .format[data-astro-cid-aalyhqf5]{background-color:#fff;color:#666}
.todo-block{padding:1em;background:repeating-linear-gradient(45deg,#f9f7ff,#f9f7ff 10px,#eee9ff 10px 20px);border:2px solid #d8ccff}
.post-summary[data-astro-cid-b6i2um25]{padding:var(--gap-1);border-radius:.2em;border:.075rem solid #bfbfbf;background-color:#fff;--shadow-distance: .2rem;--shadow-color: #eaeaea;box-shadow:calc(-1 * var(--shadow-distance)) var(--shadow-distance) 0 0 var(--shadow-color)}@container (max-width: 24rem){.summary-header[data-astro-cid-b6i2um25] .header-title[data-astro-cid-b6i2um25]{flex-direction:column;gap:var(--gap-0)}.summary-header[data-astro-cid-b6i2um25] .title[data-astro-cid-b6i2um25]{text-wrap:balance}}@container (min-width: 24rem){.summary-header[data-astro-cid-b6i2um25] .header-title[data-astro-cid-b6i2um25]{flex-direction:row;gap:var(--gap-0)}}.summary-header[data-astro-cid-b6i2um25] .header-title[data-astro-cid-b6i2um25]{display:flex;margin-bottom:var(--gap-0);font-size:var(--font-size-large);font-weight:var(--font-title-weight);text-wrap:pretty}.header-title[data-astro-cid-b6i2um25] .title[data-astro-cid-b6i2um25]{flex:1}.header-title[data-astro-cid-b6i2um25] .year[data-astro-cid-b6i2um25]{flex:0}.header-title[data-astro-cid-b6i2um25] .title[data-astro-cid-b6i2um25] a[data-astro-cid-b6i2um25]{color:unset}.header-title[data-astro-cid-b6i2um25] .year[data-astro-cid-b6i2um25]{font-weight:var(--font-normal-weight);font-size:var(--font-size-normal);color:gray;white-space:nowrap}.summary-body[data-astro-cid-b6i2um25]:empty{display:none}.summary-body[data-astro-cid-b6i2um25]{display:flex;flex-direction:column;gap:1rem;margin-top:var(--gap-1);justify-content:space-between}.summary-body[data-astro-cid-b6i2um25] .summary[data-astro-cid-b6i2um25]{flex:1}.summary-body[data-astro-cid-b6i2um25] .thumb[data-astro-cid-b6i2um25]{flex-basis:40%;max-height:8em;display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:3mm}.summary-body[data-astro-cid-b6i2um25] .thumb[data-astro-cid-b6i2um25] img[data-astro-cid-b6i2um25]{display:block;min-width:100%}
.preview-link[data-astro-cid-gaprsfch]{display:block;color:unset;text-decoration:unset}.preview-box[data-astro-cid-gaprsfch]{margin:var(--gap-1) 0;padding:var(--gap-1);border-radius:var(--gap-0);background-color:#f6f6f6;border:1px dashed #ccc}.preview-box[data-astro-cid-gaprsfch]:hover{background-color:#eee}.preview-title[data-astro-cid-gaprsfch]{font-size:var(--font-size-large);font-weight:var(--font-title-weight);text-decoration:2px limegreen underline}.preview-title[data-astro-cid-gaprsfch] a[data-astro-cid-gaprsfch]{color:unset}.preview-summary[data-astro-cid-gaprsfch]{margin-top:var(--gap-0)}
.preview-grid-cell>*{margin:0}.preview-grid-cell{display:grid}
.preview-grid[data-astro-cid-p4xamgo3]{--columns: 2;display:grid;grid-template-columns:repeat(var(--columns),minmax(0,1fr));grid-auto-flow:row dense;gap:var(--gap-1);place-items:stretch;justify-content:stretch;align-content:stretch}.preview-grid-cell[data-astro-cid-p4xamgo3]{container:preview-grid / inline-size;grid-column:span var(--span)}
.demo canvas{display:block;max-width:100%;margin:0 auto}.demo canvas:focus{outline-width:thick;outline-color:green;box-shadow:0 0 10px green}
</style></head> <body> <header id="header-box" data-astro-cid-3uvkrtzm> <nav id="header" data-astro-cid-3uvkrtzm> <ul id="header-nav" data-astro-cid-3uvkrtzm> <li data-astro-cid-3uvkrtzm> <a id="header-name" href="/" data-astro-cid-3uvkrtzm>Benjamin R. Bray</a> </li> <li class="header-button" data-astro-cid-3uvkrtzm><a href="/blog" data-astro-cid-3uvkrtzm data-astro-cid-oujquvsc> Blog </a> </li> <li class="header-button" data-astro-cid-3uvkrtzm><a href="/projects" class="active" data-astro-cid-3uvkrtzm data-astro-cid-oujquvsc> Projects </a> </li> <!-- <li class="header-button"><HeaderLink href="/series">Series</a></li> --> <!-- <li class="header-button"><HeaderLink href="/favorites">Favorites</a></li> --> <li class="header-button" data-astro-cid-3uvkrtzm><a href="https://github.com/benrbray" data-astro-cid-3uvkrtzm data-astro-cid-oujquvsc> GitHub </a> </li> <li class="header-button" data-astro-cid-3uvkrtzm><a href="/resume" data-astro-cid-3uvkrtzm data-astro-cid-oujquvsc> Resume </a> </li> <li class="header-button" data-astro-cid-3uvkrtzm><a href="/search" data-astro-cid-3uvkrtzm data-astro-cid-oujquvsc> Search </a> </li> <!-- <li class="header-button"><HeaderLink href="/sitemap">Sitemap</a></li> --> </ul> </nav> </header>  <main>  <div class="column-thin" data-astro-cid-lnnucpux>  <article data-pagefind-body> <div class="article"> <!-- draft --><div class="article-header" data-astro-cid-t54qzdpc> <!-- title --> <h1 class="article-title" data-astro-cid-t54qzdpc>Unboggler</h1> <!-- subtitle --> <div class="article-subtitle" data-astro-cid-t54qzdpc>  </div> <!-- date --> <div class="article-date" data-astro-cid-t54qzdpc>
Published <time datetime="2020-01-17T15:00:00.000Z"> Jan 18, 2020 </time>  </div> <!-- Tags --> <div class="article-tags" data-astro-cid-t54qzdpc> <span class="post-tags" data-astro-cid-aalyhqf5> <span class="tag category" data-astro-cid-aalyhqf5><a href="/tags/games" data-astro-cid-aalyhqf5>games</a></span> <span class="tag category" data-astro-cid-aalyhqf5><a href="/tags/formal-methods" data-astro-cid-aalyhqf5>formal-methods</a></span>  <span class="tag tool" data-astro-cid-aalyhqf5><a href="/tags/javascript" data-astro-cid-aalyhqf5>javascript</a></span>   </span>  </div> </div>  <style>
/* ==== BOGGLE ============================================================== */

#boggle-game {
	display: grid;
	position: relative;
	
	grid-gap: 1rem;
	grid: "controls words" auto
	      "board words" 1fr
		  "input words" auto
		  "solve words" auto
		  / auto 1fr;
}

@media (max-width: 35rem) {
	#boggle-game {
		grid-template-areas:
			"controls"
			"board"
			"input"
			"solve"
			"words";
		grid-template-rows: 1fr auto auto auto 4fr;
		grid-template-columns: 1fr;
	}
}

grid-game {
  font-family: var(--sans-font);
}

#boggle-controls { grid-area: controls; }
#boggle-solve    { grid-area: solve;    }
#boggle-board    { grid-area: board;    }
#boggle-list     { grid-area: words;    }
#boggle-input    { grid-area: input;    }

#boggle-list {
	position: absolute;
	max-height: 100%;
	overflow-y: auto;
	font-family: var(--sans-font);
}

.wordList {
	display: flex;
	flex-wrap: wrap;
	justify-content: center;
}

.wordList span {
	flex: 1;
	/*padding: 4px 0.5em 2px 0.5em;*/
  padding: 2px 0.5em;
	margin: 0.2em;

  /* display: flex;
  justify-content: center;
  align-content: center;
  flex-direction: column; */

	text-align: center;
	color: darkblue;
	background-color: lightblue;
	border: 1px solid darkblue;
	border-radius: 4px;
	user-select: none;
}

.wordList span:hover {
	background-color: #89bed0;
}

#boggle-controls {
	display: grid;
	grid: auto / 1fr 1fr;
	grid-auto-flow: row;
	grid-gap: 1em;
}

#boggle-input {
	height: 2em;
	font-family: var(--sans-font);
}

#boggle-solve button {
	font-size: 1.2em;
  font-family: var(--serif-font);
	color: white;
	background-color: #52b955;
	border: none;
}

#boggle-solve button:hover {
	background-color: #479c4a;
}

#boggle-game .controls button {
	display: block;
	width: 100%;
	height: 2em;
}

/* ==== UNBOGGLE ============================================================ */

#unboggle-game {
	display: grid;
	position: relative;
	
	grid-gap: 1rem;
	grid: "board words" 1fr
		  "solve words" auto
		  / auto 1fr;
}

@media (max-width: 35rem) {
	#unboggle-game {
		grid-template-areas:
			"board"
			"solve"
			"words";
		grid-template-rows: 1fr auto auto;
		grid-template-columns: 1fr;
	}
}

#unboggle-solve { grid-area: solve; }
#unboggle-board { grid-area: board; }
#unboggle-words { grid-area: words; }

#unboggle-board {
	--cell-background-rgb: 0,0,0;
	background-color: black;
	color: white;
}

#unboggle-input {
	width: 100%;
	height: 100%;
	font-size: 1.2em;
}

#unboggle-solve button {
	font-size: 1.2em;
	color: #52b955;
	width: 100%;
	height: 2em;
	background-color: white;
	border: 2px solid #52b955;
}

#unboggle-solve button:hover {
	background-color: #eee;
}

#unboggle-button.stop {
	border-color: red;
	color: red;
	background-color: white;
}

#unboggle-container {
	position: relative;
}

#unboggle-overlay {
	display: none;
	position: relative;
	grid-area: board;
	background-color: rgba(255,255,255,0.5);
	z-index: 1;
}

#crossword {
	display: block;
	font-size: 1rem;
	margin: 1em auto;
}

.checkboxes {
	display: grid;
	grid: 1fr / 1fr 1fr;
	grid-gap: 1px;
	background-color: #999;
	border: 1px solid #999;
}

.checkboxes input {
	display: none;
	position: absolute;
	pointer-events: none;

	background: transparent;
	border-radius: 0px;
	padding: 5px;
	box-shadow: none!important;
}
.checkboxes input[type="radio"] + span:hover {
	background-color: #e0e0e0;
}
.checkboxes input[type="radio"]:checked + span {
	background-color: lightblue;
	color: darkblue;
}.checkboxes input[type="radio"]:checked + span:hover {
	background-color: #89bed0;
}

.checkboxes label {
	background-color: white;
	text-align: center;
	user-select: none;
}
.checkboxes input[type="radio"] + span {
  display: block;
  padding: 5px 10px;
}
</style>
<!-- Scripts -->
<script src="/static/boggle/dictionary.js"></script>
<script src="/static/boggle/WordTrie.js"></script>
<script src="/static/boggle/minisat.js"></script>
<script src="/static/boggle/boggle.js" defer></script>
<script src="/static/boggle/unboggle.js" defer></script>
<script src="/static/boggle/GridGame.js" type="module"></script>
<script type="module">
import { init, GridGameElement } from "/static/boggle/GridGame.js";
window.customElements.define("grid-game", GridGameElement);
</script>
<h1 id="boggle" class="heading anchor"><a class="anchor-link" href="#boggle">Boggle</a></h1>
<p>Boggle is a classic board game in which players search for words constructed by connecting adjacent tiles in a grid of letters.  Letters can be used at most once, and are allowed to connect horizontally, vertically, or diagonally.  Listing all words in a Boggle board is a common interview question, easily achieved by querying a <a href="https://en.wikipedia.org/wiki/Trie">trie</a> data structure assembled from a list of dictionary words.  Use the widget below to see it in action!</p>
<div id="boggle-game">
<div id="boggle-controls" class="controls"><div class="checkboxes" style="grid-column-end:span 2"><label><input type="radio" onclick="randomDice()" name="randomize" value="boggle-dice" required checked><span>Boggle Dice</span></label><label><input type="radio" onclick="randomFreq()" name="randomize" value="frequency" required><span>Frequency</span></label><label><input type="radio" onclick="randomUniform()" name="randomize" value="uniform" required><span>Uniform</span></label><label><input type="radio" onclick="randomWord()" name="randomize" value="long-word" required><span>Long Word</span></label></div></div>
<grid-game id="boggle-board" type="boggle" data-rows="4" data-cols="4">
PYBO
ALGG
MELW
HTIE
</grid-game>
<div id="boggle-list">
<div class="wordList"></div>
</div>
<input id="boggle-input" maxlength="16" style="text-transform: uppercase;" placeholder="BOARD INPUT" onclick="">
<div id="boggle-solve" class="controls">
<button id="boggle-solve-btn" type="button">SOLVE!</button>
</div>
</div>
<!-- UNBOGGLE ----------------------------------------------------------------->
<h1 id="unboggle" class="heading anchor"><a class="anchor-link" href="#unboggle">Unboggle</a></h1>
<p>Boggle was easy enough, so let’s try <b>Unboggle</b>, or reverse boggle, where the goal is to reconstruct a Boggle board from a given list of words.  There is no obvious way to divide-and-conquer the problem and no obvious greedy algorithm guaranteed to use all the words in the list.  Instead, I encode Unboggle as a <strong>boolean satisfiability</strong> problem using <a href="https://github.com/meteor/logic-solver"><code>logic-solver.js</code></a>, a convenient wrapper around the general-purpose <a href="http://minisat.se/"><code>minisat</code></a> solver, which has been compiled to JavaScript using <a href="https://emscripten.org/"><code>emscripten</code></a>.</p>
<h2 id="the-unboggler" class="heading anchor"><a class="anchor-link" href="#the-unboggler">The Unboggler</a></h2>
<p>Try it out below!  For a 4x4 grid and about 10 words, you can expect the Unboggle search to take about 30 seconds.  Since the solver isn’t designed to detect unsatisfiability, the Unboggler may hang for much longer if no satisfying board exists!</p>
<div id="unboggle-game">
<!-- Board -->
<grid-game id="unboggle-board" type="boggle" data-rows="4" data-cols="4">
THE-
UN--
BOGG
LER-
</grid-game>
<!-- Spinner -->
<div id="unboggle-overlay">
	<div class="spinner"></div>
</div>
<!-- Word List -->
<div id="unboggle-words">
<textarea id="unboggle-input" type="text" style="box-sizing:border-box">ANTIQUE
EQUITY
QUALITY
EQUIVALENT
ANTIQUITY
DIVIDE
QUILT
</textarea>
</div>
<!-- Controls -->
<div id="unboggle-solve" class="controls"><button id="unboggle-button" type="button">UNSOLVE?</button></div>
</div>
<h2 id="sat-solvers" class="heading anchor"><a class="anchor-link" href="#sat-solvers">SAT Solvers</a></h2>
<p>SAT solvers search for a satisfying assignment of <code>true</code> and <code>false</code> values to a boolean formula containing literals, conjunction, disjunction, and negation.  For example, the formula</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>∨</mo><msub><mi>x</mi><mn>2</mn></msub><mo>∨</mo><mi mathvariant="normal">¬</mi><msub><mi>x</mi><mn>3</mn></msub><mo stretchy="false">)</mo><mo>∧</mo><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><msub><mi>x</mi><mn>1</mn></msub><mo>∨</mo><msub><mi>x</mi><mn>2</mn></msub><mo>∨</mo><mi mathvariant="normal">¬</mi><msub><mi>x</mi><mn>4</mn></msub><mo stretchy="false">)</mo><mo>∧</mo><mo stretchy="false">(</mo><mi mathvariant="normal">¬</mi><msub><mi>x</mi><mn>3</mn></msub><mo>∨</mo><mi mathvariant="normal">¬</mi><msub><mi>x</mi><mn>4</mn></msub><mo>∨</mo><msub><mi>x</mi><mn>5</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x_1 \vee x_2 \vee \neg x_3)
\wedge (\neg x_1 \vee x_2 \vee \neg x_4)
\wedge (\neg x_3 \vee \neg x_4 \vee x_5)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7056em;vertical-align:-0.15em;"></span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∨</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>
<p>is satisfied by the assignment <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>=</mo><msub><mi>x</mi><mn>2</mn></msub><mo>=</mo><mrow><mi mathvariant="monospace">t</mi><mi mathvariant="monospace">r</mi><mi mathvariant="monospace">u</mi><mi mathvariant="monospace">e</mi></mrow></mrow><annotation encoding="application/x-tex">x_1 = x_2 = \mathtt{true}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5536em;"></span><span class="mord"><span class="mord mathtt">true</span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>3</mn></msub><mo>=</mo><msub><mi>x</mi><mn>4</mn></msub><mo>=</mo><mrow><mi mathvariant="monospace">f</mi><mi mathvariant="monospace">a</mi><mi mathvariant="monospace">l</mi><mi mathvariant="monospace">s</mi><mi mathvariant="monospace">e</mi></mrow></mrow><annotation encoding="application/x-tex">x_3 = x_4 = \mathtt{false}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6111em;"></span><span class="mord"><span class="mord mathtt">false</span></span></span></span></span>.  Integer constraints like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">y=11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">11</span></span></span></span> can be encoded as binary constraints on the individual binary digits <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><msub><mi>y</mi><mn>4</mn></msub><msub><mi>y</mi><mn>3</mn></msub><msub><mi>y</mi><mn>2</mn></msub><msub><mi>y</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">y = y_4 y_3 y_2 y_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, like so:</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>y</mi><mn>4</mn></msub><mo>∧</mo><mi mathvariant="normal">¬</mi><msub><mi>y</mi><mn>3</mn></msub><mo>∧</mo><msub><mi>y</mi><mn>2</mn></msub><mo>∧</mo><msub><mi>y</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">y_4 \wedge \neg y_3 \wedge y_2 \wedge y_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.75em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.75em;vertical-align:-0.1944em;"></span><span class="mord">¬</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.75em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span>
<p>Thankfully, <code>logic-solver.js</code> takes care of binary encodings for us and supports basic arithmetic constraints like <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>=</mo><mo separator="true">,</mo><mo>&#x3C;</mo><mo separator="true">,</mo><mo>></mo><mo separator="true">,</mo><mo>≤</mo><mo separator="true">,</mo><mo>≥</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(=, &#x3C;, >, \leq, \geq)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&#x3C;</span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">></span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≤</span></span><span class="base"><span class="strut" style="height:0.8304em;vertical-align:-0.1944em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≥</span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mclose">)</span></span></span></span>, together with addition and subtraction.</p>
<h2 id="sat-encoding" class="heading anchor"><a class="anchor-link" href="#sat-encoding">SAT Encoding</a></h2>
<p>To encode Unboggle as a satisfiability problem, suppose we wish to fit <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span> words on an <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>×</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">n \times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> board.  Assume an average word length <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">ℓ</mi></mrow><annotation encoding="application/x-tex">\ell</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">ℓ</span></span></span></span>.</p>
<ul>
<li>For each letter of every word on the list, we use two integer variables to represent the letter’s grid coordinates, requiring <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo>=</mo><mn>2</mn><mi>m</mi><mi mathvariant="normal">ℓ</mi><mo stretchy="false">⌈</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>n</mi><mo stretchy="false">⌉</mo></mrow><annotation encoding="application/x-tex">L = 2 m \ell \lceil \log_2 n \rceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal">m</span><span class="mord">ℓ</span><span class="mopen">⌈</span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">⌉</span></span></span></span> binary literals.</li>
<li>When the board size is not a power of two, each coordinate needs an upper bound.</li>
<li>Adjacent letters within the same word must be adjacent on the board.</li>
<li>A word cannot overlap itself; its coordinate pairs must all be distinct.</li>
<li>Two different words can only intersect at a common letter; that is, two different letters from distinct words cannot occupy the same space.</li>
</ul>
<p>The number of constraints increases roughly quadratically with the number of words, so Unboggling more than ten words may take quite a while!  The code below uses <code>logic-solver.js</code> to represent these constraints:</p>
<pre class="astro-code astro-code-themes one-light one-dark-pro" style="background-color:#FAFAFA;--shiki-dark-bg:#282c34;color:#383A42;--shiki-dark:#abb2bf; overflow-x: auto;" tabindex="0" data-language="javascript"><code><span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">function</span><span style="color:#4078F2;--shiki-dark:#61AFEF"> encode</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic">numRows</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic">numCols</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75;font-style:inherit;--shiki-dark-font-style:italic">words</span><span style="color:#383A42;--shiki-dark:#ABB2BF">){</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">	let</span><span style="color:#383A42;--shiki-dark:#E06C75"> solver</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#A626A4;--shiki-dark:#C678DD"> new</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">Solver</span><span style="color:#383A42;--shiki-dark:#ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">	// dimensions</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">	let</span><span style="color:#383A42;--shiki-dark:#E06C75"> numWords</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> words</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">	let</span><span style="color:#383A42;--shiki-dark:#E06C75"> numRowBits</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">ceil</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">Math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">log2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">numRows</span><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">	let</span><span style="color:#383A42;--shiki-dark:#E06C75"> numColBits</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">ceil</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">Math</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">log2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">numCols</span><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">	// bit constants</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">	let</span><span style="color:#383A42;--shiki-dark:#E06C75"> const_1</span><span style="color:#0184BC;--shiki-dark:#56B6C2">  =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">constantBits</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">	let</span><span style="color:#383A42;--shiki-dark:#E06C75"> const_numRows</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">constantBits</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">numRows</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">	let</span><span style="color:#383A42;--shiki-dark:#E06C75"> const_numCols</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">constantBits</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">numCols</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">	// word constraints</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">	let</span><span style="color:#383A42;--shiki-dark:#E06C75"> wordPaths</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">	for</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#E06C75"> w</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">w</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x3C;</span><span style="color:#383A42;--shiki-dark:#E06C75"> numWords</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">w</span><span style="color:#0184BC;--shiki-dark:#56B6C2">++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">){</span></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">		// translate word</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">		let</span><span style="color:#383A42;--shiki-dark:#E06C75"> word</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> words</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">w</span><span style="color:#383A42;--shiki-dark:#ABB2BF">];</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">		let</span><span style="color:#383A42;--shiki-dark:#E06C75"> wordPath</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">		for</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#E06C75"> i</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x3C;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> word</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2">++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">){</span></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">			// location of ith letter stored in variables:</span></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">			//     p_(w)_(i)_r and p_(w)_(i)_c</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">			let</span><span style="color:#383A42;--shiki-dark:#E06C75"> pr</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">variableBits</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">`p_</span><span style="color:#CA1243;--shiki-dark:#C678DD">${</span><span style="color:#383A42;--shiki-dark:#E06C75">w</span><span style="color:#CA1243;--shiki-dark:#C678DD">}</span><span style="color:#50A14F;--shiki-dark:#98C379">_</span><span style="color:#CA1243;--shiki-dark:#C678DD">${</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#CA1243;--shiki-dark:#C678DD">}</span><span style="color:#50A14F;--shiki-dark:#98C379">_r`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">numRowBits</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">			let</span><span style="color:#383A42;--shiki-dark:#E06C75"> pc</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E5C07B"> Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">variableBits</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#50A14F;--shiki-dark:#98C379">`p_</span><span style="color:#CA1243;--shiki-dark:#C678DD">${</span><span style="color:#383A42;--shiki-dark:#E06C75">w</span><span style="color:#CA1243;--shiki-dark:#C678DD">}</span><span style="color:#50A14F;--shiki-dark:#98C379">_</span><span style="color:#CA1243;--shiki-dark:#C678DD">${</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#CA1243;--shiki-dark:#C678DD">}</span><span style="color:#50A14F;--shiki-dark:#98C379">_c`</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">numColBits</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">			wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">push</span><span style="color:#383A42;--shiki-dark:#ABB2BF">([</span><span style="color:#383A42;--shiki-dark:#E06C75">pr</span><span style="color:#383A42;--shiki-dark:#ABB2BF">,</span><span style="color:#383A42;--shiki-dark:#E06C75">pc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">			// enforce board boundaries on paths (coordinates zero-indexed)</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">			solver</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">lessThan</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">pr</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">const_numRows</span><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">			solver</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">lessThan</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">pc</span><span style="color:#383A42;--shiki-dark:#ABB2BF">, </span><span style="color:#383A42;--shiki-dark:#E06C75">const_numCols</span><span style="color:#383A42;--shiki-dark:#ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">			// adjacent letters in word must be adjacent on board</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">			if</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> ></span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">){</span></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">				// x difference</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">				solver</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">lessThanOrEqual</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2">-</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">], </span><span style="color:#383A42;--shiki-dark:#E5C07B">Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">sum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">],   </span><span style="color:#383A42;--shiki-dark:#E06C75">const_1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)));</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">				solver</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">lessThanOrEqual</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">],   </span><span style="color:#383A42;--shiki-dark:#E5C07B">Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">sum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2">-</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">], </span><span style="color:#383A42;--shiki-dark:#E06C75">const_1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)));</span></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">				// y difference</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">				solver</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">lessThanOrEqual</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2">-</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">], </span><span style="color:#383A42;--shiki-dark:#E5C07B">Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">sum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">],   </span><span style="color:#383A42;--shiki-dark:#E06C75">const_1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)));</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">				solver</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">lessThanOrEqual</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">],   </span><span style="color:#383A42;--shiki-dark:#E5C07B">Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">sum</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2">-</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">], </span><span style="color:#383A42;--shiki-dark:#E06C75">const_1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">)));</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">			}</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">		}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">		// path cannot overlap itself</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">		for</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#E06C75"> i</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x3C;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> word</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2">++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">){</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">			for</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#E06C75"> j</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> i</span><span style="color:#0184BC;--shiki-dark:#56B6C2">+</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">j</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x3C;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> word</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">j</span><span style="color:#0184BC;--shiki-dark:#56B6C2">++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">){</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">				solver</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">atMostOne</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">					Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">equalBits</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">],</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">j</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]),</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">					Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">equalBits</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">],</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">j</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">])</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">				));</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">			}</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">		}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">		wordPaths</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">push</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">wordPath</span><span style="color:#383A42;--shiki-dark:#ABB2BF">);</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">	// now, ensure word paths are all compatible</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">	for</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#E06C75"> w1</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">w1</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x3C;</span><span style="color:#383A42;--shiki-dark:#E06C75"> numWords</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">w1</span><span style="color:#0184BC;--shiki-dark:#56B6C2">++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">){</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">		for</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#E06C75"> w2</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> w1</span><span style="color:#0184BC;--shiki-dark:#56B6C2">+</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">w2</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x3C;</span><span style="color:#383A42;--shiki-dark:#E06C75"> numWords</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">w2</span><span style="color:#0184BC;--shiki-dark:#56B6C2">++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">){</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">			let</span><span style="color:#383A42;--shiki-dark:#E06C75"> word1</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> words</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">w1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">];</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">			let</span><span style="color:#383A42;--shiki-dark:#E06C75"> word2</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#383A42;--shiki-dark:#E06C75"> words</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">w2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">			for</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#E06C75"> i</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x3C;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> word1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#0184BC;--shiki-dark:#56B6C2">++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">){</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">				for</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#A626A4;--shiki-dark:#C678DD">let</span><span style="color:#383A42;--shiki-dark:#E06C75"> j</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> =</span><span style="color:#986801;--shiki-dark:#D19A66"> 0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">j</span><span style="color:#0184BC;--shiki-dark:#56B6C2"> &#x3C;</span><span style="color:#383A42;--shiki-dark:#E5C07B"> word2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#E45649;--shiki-dark:#E06C75">length</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; </span><span style="color:#383A42;--shiki-dark:#E06C75">j</span><span style="color:#0184BC;--shiki-dark:#56B6C2">++</span><span style="color:#383A42;--shiki-dark:#ABB2BF">){</span></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">					// no constraint if words have letter in common</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">					if</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E06C75">word1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] </span><span style="color:#0184BC;--shiki-dark:#56B6C2">==</span><span style="color:#383A42;--shiki-dark:#E06C75"> word2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">j</span><span style="color:#383A42;--shiki-dark:#ABB2BF">]){ </span><span style="color:#A626A4;--shiki-dark:#C678DD">continue</span><span style="color:#383A42;--shiki-dark:#ABB2BF">; }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">					// prevent different letters from occupying same space</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">					solver</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">require</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span><span style="color:#383A42;--shiki-dark:#E5C07B">Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">atMostOne</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">						Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">equalBits</span><span style="color:#383A42;--shiki-dark:#ABB2BF">( </span><span style="color:#383A42;--shiki-dark:#E06C75">wordPaths</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">w1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">], </span><span style="color:#383A42;--shiki-dark:#E06C75">wordPaths</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">w2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#383A42;--shiki-dark:#E06C75">j</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">0</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] ),</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#E5C07B">						Logic</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">equalBits</span><span style="color:#383A42;--shiki-dark:#ABB2BF">( </span><span style="color:#383A42;--shiki-dark:#E06C75">wordPaths</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">w1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#383A42;--shiki-dark:#E06C75">i</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">], </span><span style="color:#383A42;--shiki-dark:#E06C75">wordPaths</span><span style="color:#383A42;--shiki-dark:#ABB2BF">[</span><span style="color:#383A42;--shiki-dark:#E06C75">w2</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#383A42;--shiki-dark:#E06C75">j</span><span style="color:#383A42;--shiki-dark:#ABB2BF">][</span><span style="color:#986801;--shiki-dark:#D19A66">1</span><span style="color:#383A42;--shiki-dark:#ABB2BF">] )</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">					));</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">				}</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">			}</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">		}</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0A1A7;--shiki-dark:#7F848E;font-style:italic;--shiki-dark-font-style:italic">	// find solution</span></span>
<span class="line"><span style="color:#A626A4;--shiki-dark:#C678DD">	return</span><span style="color:#383A42;--shiki-dark:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">		solution</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E5C07B"> solver</span><span style="color:#383A42;--shiki-dark:#ABB2BF">.</span><span style="color:#4078F2;--shiki-dark:#61AFEF">solve</span><span style="color:#383A42;--shiki-dark:#ABB2BF">(),</span></span>
<span class="line"><span style="color:#E45649;--shiki-dark:#E06C75">		wordPaths</span><span style="color:#0184BC;--shiki-dark:#ABB2BF">:</span><span style="color:#383A42;--shiki-dark:#E06C75"> wordPaths</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">	};</span></span>
<span class="line"><span style="color:#383A42;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span></code></pre> </div> </article>  </div>   </main> <footer class="footer" data-astro-cid-x4grat5q> <div class="footer-website" data-astro-cid-x4grat5q>
Powered by <a href="https://astro.build/" data-astro-cid-x4grat5q>Astro</a> and <a href="https://github.com/benrbray/benrbray.github.io" data-astro-cid-x4grat5q>hosted on GitHub</a>.
</div> <div class="footer-visitor" data-astro-cid-x4grat5q> <a href="https://visitorbadge.io/status?path=https%3A%2F%2Fbenrbray.com%2F" data-astro-cid-x4grat5q> <img src="https://api.visitorbadge.io/api/combined?path=https%3A%2F%2Fbenrbray.com%2F&countColor=%23263759&style=flat-square&labelStyle=lower" data-astro-cid-x4grat5q> </a>  </div> <!-- Generation Date --> <div class="footer-generated" data-astro-cid-x4grat5q>
Generated January 31, 2025 </div></footer>  </body></html>